<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, viewport-fit=cover"
  />
  <title>SnakeLab</title>

  <!-- Styles -->
  <link rel="stylesheet" href="./styles/style.css" />

  <!-- Pyodide (Python in the browser) -->
  <script src="https://cdn.jsdelivr.net/pyodide/v0.25.0/full/pyodide.js"></script>

  <!-- Monaco AMD Loader -->
  <script src="https://cdn.jsdelivr.net/npm/monaco-editor@0.47.0/min/vs/loader.js"></script>
</head>
<body>
  <header class="sl-header">
    <div class="sl-topbar">
      <div class="sl-brand">
        <div class="sl-logo" aria-hidden="true"></div>
        <div class="sl-title">SnakeLab</div>
      </div>
      <div class="sl-actions">
        <!-- Run moved into the Editor panel -->
        <button id="new-btn" class="sl-btn sl-btn--blue">New</button>
        <button id="download-btn" class="sl-btn">Download .py</button>
      </div>
    </div>
  </header>

  <main class="sl-app sl-app--single">
    <section class="sl-main">
      <!-- Toolbar -->
      <div class="sl-toolbar">
        <div class="sl-field">
          <label for="filename-input">File:</label>
          <input id="filename-input" value="main.py" />
        </div>

        <div class="sl-field">
          <label for="theme-select">Theme:</label>
          <select id="theme-select">
            <option value="snake-dark">Snake Dark</option>
            <option value="vs-dark">VS Dark</option>
            <option value="vs-light">VS Light</option>
          </select>
        </div>

        <div class="sl-field">
          <label for="fontsize-select">Font size:</label>
          <select id="fontsize-select">
            <option>14</option>
            <option>16</option>
            <option>18</option>
          </select>
        </div>

        <button id="format-btn" class="sl-btn sl-btn--blue">Format</button>

        <!-- Layout toggle (only visible on landscape via CSS) -->
        <button id="layout-toggle" class="sl-btn sl-btn--blue" title="Output position: Right/Bottom">
          Output: Right
        </button>
      </div>

      <!-- Workbench -->
      <div id="workbench" class="sl-workbench sl-workbench--single sl-workbench--row">
        <!-- Editor -->
        <div class="sl-panel">
          <div class="sl-panel__header">
            <div class="sl-panel__title">Editor</div>
            <div class="sl-panel__actions">
              <button id="run-btn" class="sl-btn sl-btn--blue sl-btn--sm" title="Run (Ctrl+Enter)">Run</button>
            </div>
          </div>
          <div class="sl-panel__body">
            <div id="editor" class="sl-editor"></div>
          </div>
        </div>

        <!-- Output -->
        <div class="sl-panel">
          <div class="sl-panel__header">
            <div class="sl-panel__title">Output</div>
            <div class="sl-panel__actions">
              <button id="copy-output-btn" class="sl-btn sl-btn--blue sl-btn--sm">Copy</button>
              <button id="clear-output-btn" class="sl-btn sl-btn--sm">Clear</button>
            </div>
          </div>
          <div class="sl-panel__body">
            <pre id="output" class="sl-output">⏳ Ready to run…</pre>
          </div>
        </div>
      </div>

      <!-- Status Bar -->
      <div class="sl-statusbar">
        <div class="sl-status-left">
          <span class="sl-pill sl-pill--blue"><span class="sl-dot"></span><span id="pyodide-status">Pyodide: loading…</span></span>
          <span class="sl-pill" id="status-pos">Ln 1, Col 1</span>
        </div>
        <div class="sl-status-right">
          <span>SnakeLab v0.4 • Single-file</span>
        </div>
      </div>
    </section>
  </main>

  <!-- App JS -->
  <script src="./scripts/app.js"></script>
</body>
</html>
