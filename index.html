<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, viewport-fit=cover"
  />
  <title>SnakeLab</title>

  <!-- Styles -->
  <link rel="stylesheet" href="./styles/style.css" />

  <!-- Pyodide -->
  <script src="https://cdn.jsdelivr.net/pyodide/v0.25.0/full/pyodide.js"></script>

  <!-- Monaco AMD Loader -->
  <script src="https://cdn.jsdelivr.net/npm/monaco-editor@0.47.0/min/vs/loader.js"></script>
</head>

<body>
  <!-- Fullscreen boot screen -->
  <div id="boot-screen" class="sl-boot" aria-live="polite">
    <div class="sl-boot__content">
      <div class="sl-boot__logo" aria-hidden="true"></div>
      <h1 class="sl-boot__title">SnakeLab</h1>
      <p class="sl-boot__msg">Loading Python runtime…</p>
      <div class="sl-boot__spinner" role="progressbar" aria-valuetext="Loading"></div>
      <p class="sl-boot__tip">Runs entirely in your browser — no backend.</p>
    </div>
  </div>

  <header class="sl-header">
    <div class="sl-topbar">
      <div class="sl-brand">
        <div class="sl-logo" aria-hidden="true"></div>
        <div class="sl-title">SnakeLab</div>
      </div>
      <div class="sl-actions">
        <button id="new-btn" class="sl-btn sl-btn--blue">New</button>
        <button id="download-btn" class="sl-btn">Download .py</button>
      </div>
    </div>
  </header>

  <main class="sl-app sl-app--single" aria-hidden="true">
    <section class="sl-main">
      <!-- Toolbar -->
      <div class="sl-toolbar">
        <div class="sl-field">
          <label for="filename-input">File:</label>
          <input id="filename-input" value="main.py" />
        </div>

        <!-- Theme dropdown (custom) -->
        <div class="sl-field sl-field--dropdown" data-select="theme">
          <label>Theme:</label>
          <div class="sl-select" id="theme-select" aria-expanded="false">
            <button class="sl-select__button" type="button" aria-haspopup="listbox" aria-expanded="false">
              <span class="sl-select__label">Snake Dark</span>
              <span class="sl-caret" aria-hidden="true"></span>
            </button>
            <ul class="sl-select__menu" role="listbox" tabindex="-1">
              <li class="sl-select__option is-active" role="option" data-value="snake-dark" tabindex="0">Snake Dark</li>
              <li class="sl-select__option" role="option" data-value="vs-dark" tabindex="0">VS Dark</li>
              <li class="sl-select__option" role="option" data-value="vs-light" tabindex="0">VS Light</li>
            </ul>
          </div>
        </div>

        <!-- Font size dropdown (custom) -->
        <div class="sl-field sl-field--dropdown" data-select="fontsize">
          <label>Font size:</label>
          <div class="sl-select" id="fontsize-select" aria-expanded="false">
            <button class="sl-select__button" type="button" aria-haspopup="listbox" aria-expanded="false">
              <span class="sl-select__label">14</span>
              <span class="sl-caret" aria-hidden="true"></span>
            </button>
            <ul class="sl-select__menu" role="listbox" tabindex="-1">
              <li class="sl-select__option is-active" role="option" data-value="14" tabindex="0">14</li>
              <li class="sl-select__option" role="option" data-value="16" tabindex="0">16</li>
              <li class="sl-select__option" role="option" data-value="18" tabindex="0">18</li>
            </ul>
          </div>
        </div>

        <!-- Layout toggle (only visible on landscape via CSS) -->
        <button id="layout-toggle" class="sl-btn sl-btn--blue" title="Output position: Right/Bottom">
          Output: Right
        </button>
      </div>

      <!-- Workbench -->
      <div id="workbench" class="sl-workbench sl-workbench--single sl-workbench--row">
        <!-- Editor -->
        <div class="sl-panel">
          <div class="sl-panel__header">
            <div class="sl-panel__title">Editor</div>
            <div class="sl-panel__actions">
              <button id="run-btn" class="sl-btn sl-btn--blue sl-btn--sm" title="Run (Ctrl+Enter)">Run</button>
            </div>
          </div>
          <div class="sl-panel__body">
            <div id="editor" class="sl-editor"></div>
          </div>
        </div>

        <!-- Output -->
        <div class="sl-panel">
          <div class="sl-panel__header">
            <div class="sl-panel__title">Output</div>
            <div class="sl-panel__actions">
              <button id="copy-output-btn" class="sl-btn sl-btn--blue sl-btn--sm">Copy</button>
              <button id="clear-output-btn" class="sl-btn sl-btn--sm">Clear</button>
            </div>
          </div>
          <div class="sl-panel__body">
            <pre id="output" class="sl-output">⏳ Ready to run…</pre>
          </div>
        </div>
      </div>

      <!-- Status Bar -->
      <div class="sl-statusbar">
        <div class="sl-status-left">
          <span class="sl-pill sl-pill--ok">
            <span class="sl-dot sl-dot--ok" aria-hidden="true"></span>
            <span>Pyodide</span>
          </span>
          <span class="sl-pill" id="status-pos">Ln 1, Col 1</span>
        </div>
        <div class="sl-status-right">
          <span>SnakeLab v1.0 • DesvoSoft </span>
        </div>
      </div>
    </section>
  </main>

  <!-- App JS -->
  <script src="./scripts/app.js"></script>
</body>
</html>
